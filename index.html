<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthday Card for Gayathri Akka</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      font-family: 'Caveat', cursive;
      overflow-x: hidden;
      background: linear-gradient(135deg, #f5f0e6 0%, #fce4e1 100%);
    }

    .font-handwritten { font-family: 'Caveat', cursive; }
    .font-elegant { font-family: 'Playfair Display', serif; }

    /* Animations */
    @keyframes float { 0%,100%{transform:translateY(0) rotate(-2deg);}50%{transform:translateY(-10px) rotate(2deg);} }
    @keyframes sparkle { 0%,100%{opacity:0; transform: scale(0);}50%{opacity:1; transform: scale(1);} }
    @keyframes heartbeat { 0%,100%{transform:scale(1);}50%{transform:scale(1.1);} }
    @keyframes flapOpen { 0%{transform:rotateX(0deg);}100%{transform:rotateX(160deg);} }
    @keyframes slideOutDown {0%{transform:translateY(0);opacity:1;}100%{transform:translateY(120vh);opacity:0;} }
    @keyframes slideInUp {0%{transform:translateY(120vh);opacity:0;}100%{transform:translateY(0);opacity:1;} }
    @keyframes confetti-fall {0%{transform:translateY(-100%) rotate(0deg);opacity:1;}100%{transform:translateY(100%) rotate(720deg);opacity:0;}}

    /* Core styles */
    .envelope-float { animation: float 3s ease-in-out infinite; cursor:pointer; }
    .sparkle { animation: sparkle 3s ease-in-out infinite; position:absolute; font-size:1.2rem; color:#c41e3a; }
    .heartbeat { animation: heartbeat 1.5s ease-in-out infinite; }
    .envelope-flap { transform-origin: center center; transform-style: preserve-3d; perspective: 1200px; }
    .envelope-animating .envelope-flap { animation: flapOpen 2s cubic-bezier(0.25,0.46,0.45,0.94) forwards; }
    .envelope-animating #envelope-page { animation: slideOutDown 2.2s cubic-bezier(0.25,0.46,0.45,0.94) forwards; }
    #card-container.showing { animation: slideInUp 2s cubic-bezier(0.25,0.46,0.45,0.94) forwards; }

    .confetti { width:10px;height:10px;position:absolute;opacity:0;border-radius:50%; }

    /* Envelope Styling */
    #envelope {
      width: 320px; height: 240px;
      position: relative;
    }
    #envelope-body {
      width: 100%; height: 100%;
      border-radius: 8px;
      background: linear-gradient(135deg, #fce4e1 0%, #f5f0e6 100%);
      border: 2px solid #c41e3a;
      box-shadow: 0 6px 12px rgba(196,30,58,0.3);
      position: relative;
      overflow: hidden;
    }
    #envelope-flap-svg {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 120px;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2));
    }
    .wax-seal {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%,-50%) rotate(10deg);
      width: 80px; height: 80px;
      border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, #ff4d4d, #c41e3a 50%, #8b0000 100%);
      box-shadow: inset -2px -2px 4px rgba(0,0,0,0.3), 0 4px 8px rgba(0,0,0,0.4);
      display: flex; align-items: center; justify-content: center;
    }
    .wax-seal::after {
      content:"‚ú¶";
      color: rgba(255,255,255,0.6);
      font-size: 24px;
    }
  </style>
</head>
<body class="h-full relative">

<!-- Magical sparkles -->
<div id="magic-sparkles"></div>

<div id="app" class="w-full h-full overflow-auto">

  <!-- Envelope Page -->
  <div id="envelope-page" class="w-full min-h-screen flex flex-col items-center justify-center p-8 relative">
    <div class="text-center mb-6">
      <span class="font-handwritten text-2xl text-gray-700">‚ú® A special surprise awaits... ‚ú®</span>
    </div>
    <div id="envelope" class="envelope-float" onclick="openEnvelope()">
      <div id="envelope-body">
        <div id="envelope-flap-svg">
          <svg viewBox="0 0 320 120" width="100%" height="100%">
            <defs>
              <linearGradient id="flapGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#c41e3a"/>
                <stop offset="100%" stop-color="#f5f0e6"/>
              </linearGradient>
            </defs>
            <path d="M0,120 L160,10 L320,120 Z" fill="url(#flapGradient)" stroke="#a01830" stroke-width="2"/>
          </svg>
        </div>
        <div class="wax-seal"></div>
      </div>
      <p class="font-handwritten text-xl text-gray-700 mt-6 text-center animate-pulse">Click the envelope to open! üíå</p>
    </div>
  </div>

  <!-- Card Pages (Pages 1‚Äì4 same as previous code) -->
  <div id="card-container" class="hidden w-full min-h-screen relative">

    <!-- Page 1 -->
    <div id="page-1" class="page hidden w-full min-h-screen flex flex-col items-center justify-center p-8 text-center">
      <h1 class="font-elegant text-5xl text-gray-900 mb-6">Happy Birthday<br>
        <span id="recipient-display" class="text-6xl text-red-700">Gayathri Akkaaa!!!</span>
      </h1>
      <div class="flex justify-center gap-3 text-4xl">
        üéÇ üéâ üéÅ üéà
      </div>
      <button onclick="nextPage(2)" class="mt-8 px-4 py-2 font-handwritten text-xl text-white rounded-full shadow-lg" style="background: linear-gradient(135deg, #c41e3a 0%, #a01830 100%)">Continue ‚Üí üíå</button>
    </div>

    <!-- Pages 2‚Äì4 are the same as in previous code -->
    <!-- Add your letter, gallery, final message here as in the last version -->

  </div>
</div>

<script>
  let envelopeOpened=false;
  function openEnvelope(){
    if(envelopeOpened)return;
    envelopeOpened=true;
    document.getElementById('envelope-page').classList.add('envelope-animating');
    document.getElementById('envelope').classList.remove('envelope-float');
    document.getElementById('card-container').classList.remove('hidden');
    setTimeout(()=>{document.getElementById('card-container').classList.add('showing'); document.getElementById('page-1').classList.remove('hidden');},100);
    setTimeout(()=>{document.getElementById('envelope-page').classList.add('hidden');},2200);
  }
  function nextPage(n){document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden')); document.getElementById(`page-${n}`).classList.remove('hidden'); window.scrollTo({top:0,behavior:'smooth'});}
  function restart(){envelopeOpened=false;document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden'));document.getElementById('card-container').classList.add('hidden');document.getElementById('card-container').classList.remove('showing');document.getElementById('envelope-page').classList.remove('hidden');document.getElementById('envelope').classList.add('envelope-float');}

  // Magical sparkles
  const sparkleContainer=document.getElementById('magic-sparkles');
  for(let i=0;i<50;i++){
    const s=document.createElement('div'); s.className='sparkle'; s.style.left=Math.random()*100+'%'; s.style.top=Math.random()*100+'%'; s.style.fontSize=(10+Math.random()*20)+'px'; s.style.animationDelay=Math.random()*5+'s'; s.textContent='‚ú®'; sparkleContainer.appendChild(s);
  }
</script>

</body>
</html>
